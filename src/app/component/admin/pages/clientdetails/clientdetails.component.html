<div class="container-fluid p-3" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px;">
  <div class="row align-items-center">
    <div class="col-12 d-flex justify-content-between align-items-center">
      <h2 class="m-4 text-center flex-grow-1">Resident Details</h2>
      <button class="btn btn-primary me-4" data-bs-toggle="modal" data-bs-target="#facesheetmodel">Facesheet
        Details</button>
      <div class="modal fade" id="facesheetmodel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Facesheet Details</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

              <div class="container col-sm-10">
                <div class="row">
                  <div class="col-12 text-center">
                    <h3>Face Sheet Add</h3>
                  </div>
                </div>


                <form [formGroup]="faceSheetForm"   (ngSubmit)="addpostfacesheets()">
                  <!-- Facility Section -->
                  <div class="row border p-3 mb-3">
                    <div class="col-12">
                      <label for="facilityName" class="form-label">Name of Facility:</label>
                      <input type="text" formControlName="facility_name" class="form-control"
                        value="HOME OF COMFORT LLC.">
                    </div>
                  </div>

                  <!-- Personal Information Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Personal Information</h5>
                    <div class="col-6 mb-3">
                      <label for="name" class="form-label">Name:</label>
                      <input type="text" formControlName="name" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="dob" class="form-label">DOB:</label>
                      <input type="date" formControlName="dob" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="gender" class="form-label">Gender:</label>
                      <div>
                        <input type="radio" formControlName="gender" value="Male"> Male
                        <input type="radio" formControlName="gender" value="Female" class="ms-4"> Female
                      </div>
                    </div>
                    <div class="col-6 mb-3">
                      <label for="uci" class="form-label">UCI#:</label>
                      <input type="text" formControlName="uci" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="patientNumber" class="form-label">Patient#:</label>
                      <input type="text" formControlName="patientNumber" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="room_number" class="form-label">Room#:</label>
                      <input type="text" formControlName="room_number" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="bed_number" class="form-label">Bed#:</label>
                      <input type="text" formControlName="bed_number" class="form-control">
                    </div>
                  </div>

                  <!-- Insurance Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Insurance Information</h5>
                    <div class="col-6 mb-3">
                      <label for="insurance_id" class="form-label">Medical Insurance/Member ID#:</label>
                      <input type="text" formControlName="insurance_id" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="other_insurance" class="form-label">Other Insurance:</label>
                      <input type="text" formControlName="other_insurance" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="state_benefits" class="form-label">State Benefits:</label>
                      <input type="text" formControlName="state_benefits" class="form-control">
                    </div>
                  </div>

                  <!-- Placement Details Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Placement Details</h5>
                    <div class="col-6 mb-3">
                      <label for="placement_date" class="form-label">Date of Placement:</label>
                      <input type="date" formControlName="placement_date" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="previous_address" class="form-label">Previous Address:</label>
                      <input type="text" formControlName="previous_address" class="form-control">
                    </div>
                  </div>



                  <!-- Physical Description Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Physical Description</h5>
                    <div class="col-6 mb-3">
                      <label for="weight" class="form-label">Weight:</label>
                      <input type="text" formControlName="weight" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="height" class="form-label">Height:</label>
                      <input type="text" formControlName="height" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="eye_color" class="form-label">Eyes Color:</label>
                      <input type="text" formControlName="eye_color" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="hair_color" class="form-label">Hair Color:</label>
                      <input type="text" formControlName="hair_color" class="form-control">
                    </div>
                  </div>

                  <!-- Medical Information Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Medical Information</h5>
                    <div class="col-6 mb-3">
                      <label for="diagnosis" class="form-label">Diagnosis:</label>
                      <textarea formControlName="diagnosis" class="form-control"></textarea>
                    </div>
                    <div class="col-6 mb-3">
                      <label for="diet" class="form-label">Diet:</label>
                      <textarea formControlName="diet" class="form-control"></textarea>
                    </div>
                    <div class="col-6 mb-3">
                      <label for="food_restrictions" class="form-label">Food Restrictions:</label>
                      <textarea formControlName="food_restrictions" class="form-control"></textarea>
                    </div>
                    <div class="col-6 mb-3">
                      <label for="medical_needs" class="form-label">Medical Needs:</label>
                      <textarea formControlName="medical_needs" class="form-control"></textarea>
                    </div>
                  </div>


                  <!-- Medications Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Medications</h5>
                    <div class="col-4 mb-3">
                      <label for="medication_name" class="form-label">Medication Name:</label>
                      <input type="text" formControlName="medication_name" class="form-control">
                    </div>
                    <div class="col-4 mb-3">
                      <label for="dosage" class="form-label">Dosage:</label>
                      <input type="text" formControlName="dosage" class="form-control">
                    </div>
                    <div class="col-4 mb-3">
                      <label for="frequency" class="form-label">Frequency:</label>
                      <input type="text" formControlName="frequency" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="prescribingMD" class="form-label">Prescribing MD:</label>
                      <input type="text" formControlName="prescribing_md" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="allergies" class="form-label">Allergic to:</label>
                      <textarea formControlName="allergies" class="form-control"></textarea>
                    </div>
                  </div>
                  <!-- Professional Contacts Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Professional Contacts</h5>
                    <div class="col-6 mb-3">
                      <label for="physician" class="form-label">Physician:</label>
                      <input type="text" formControlName="physician" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="dentist" class="form-label">Dentist:</label>
                      <input type="text" formControlName="dentist" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="psychiatrist" class="form-label">Psychiatrist:</label>
                      <input type="text" formControlName="psychiatrist" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="pharmacy" class="form-label">Pharmacy:</label>
                      <input type="text" formControlName="pharmacy" class="form-control">
                    </div>
                  </div>
                  <!-- Dangerous Propensities Section -->
                  <div class="row border p-3 mb-3">
                    <h5>Dangerous Propensities</h5>
                    <div class="col-12 mb-3">
                      <label for="dangerous_propensities" class="form-label">Does this client have any dangerous
                        propensities?</label>
                      <textarea formControlName="dangerous_propensities" class="form-control"></textarea>
                    </div>
                  </div>
                  <!-- Submit Button -->
                  <div class="row">
                    <div class="col-12 text-center">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-md-2" *ngFor="let a of allData">
      <img [src]="a.profile || '../assets/profilephoto.jpg'" alt="User Avatar" class="rounded-circle img-fluid"
        style="height: 155px; width: 155px;">
    </div>
    <div class="col-md-10">
      <div class="row">
        <div class="row mt-4">
          <div class="col-md-3 mb-2">
            <div class="card" (click)="openRoutineTab()">
              <div class="card-body">
                <h5 class="card-title">Routine</h5>
                <p class="card-text">{{routinelength || 0}}</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-2">
            <div class="card" (click)="opentaskTab()">
              <div class="card-body">
                <h5 class="card-title">Task</h5>
                <p class="card-text">{{tasklength || 0}}</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-2">
            <div class="card" (click)="openmedsTab()">
              <div class="card-body">
                <h5 class="card-title">Notes</h5>
                <p class="card-text">{{getnotessdatalength || 0}}</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-2">
            <div class="card" (click)="openmildstoneTab()">
              <div class="card-body">
                <h5 class="card-title">Milestone</h5>
                <p class="card-text">{{mildstonelength || 0}}</p>
              </div>
            </div>
          </div>
        </div>




      </div>
    </div>
  </div>
  <hr>
  <div class="row mt-3" *ngFor="let a of allData">
    <div class="col-md-6">
      <p><strong class="me-2">Name:</strong> {{a.first_name}}</p>
      <p><strong class="me-2">User Type:</strong>Resident</p>
      <p><strong class="me-2">Contact:</strong>{{a.email}}</p>
      <p><strong class="me-2">Status:</strong> <span
          style="background-color: #218838; color: white; border-radius: 10px;  padding: 3px;">Active</span></p>
    </div>
    <div class="col-md-6">
      <p><strong class="me-2">Date of Birth:</strong>{{a.date_of_birth | date:'dd-MM-yyyy'}}</p>
      <p><strong class="me-2">Date of Joining:</strong> {{a.date_of_joining | date:'dd-MM-yyyy'}}</p>
      <p><strong class="me-2">Designation:</strong> {{a.designation}}</p>
    </div>
  </div>
  <div class="row mt-3">

    <div class="col-md-12">
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home"
            type="button" role="tab" aria-controls="nav-home" aria-selected="true">Routine</button>
          <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button"
            role="tab" aria-controls="nav-profile" aria-selected="false">Task</button>

          <button class="nav-link" id="nav-mildstone-tab" data-bs-toggle="tab" data-bs-target="#nav-mildstone"
            type="button" role="tab" aria-controls="nav-mildstone" aria-selected="false">Milestone</button>
          <button class="nav-link" id="nav-Notes-tab" data-bs-toggle="tab" data-bs-target="#nav-Notes" type="button"
            role="tab" aria-controls="nav-Notes" aria-selected="false">Notes</button>
          <!-- <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact"
                        type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Activity</button> <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact"
                        type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Task</button> -->
        </div>
      </nav>

      <!-- <button>add</button> -->
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
          <div class="col-lg-12 col-md-12 d-flex  gap-2  mt-2 "
            style="background-color: #F7F7F7; white-space: wrap ; height: 70px; box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px; border-radius: 10px;">
            <h5 class="fs-4 mt-3 text-center p-2">Residents Routine</h5> <span><button type="button"
                routerLink="/Admin/addroutine" class="btn mt-3 btn-primary"><span><i
                    class="fa-sharp fa-solid fa-plus"></i></span> Add</button></span>
          </div>
          <div class="mt-2"
            style="overflow-x: scroll; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px;">
            <table class="table table-bordered table-hover table-striped ">
              <thead class="" style="font-size: 13px; text-wrap: nowrap; ">
                <tr>
                  <th>Id</th>
                  <th>Medicine Name</th>
                  <th>RX Number</th>
                  <th>Frequency</th>
                  <th>unit</th>
                  <th>Time</th>
                  <th>Mfg Date</th>
                  <th>Expiry Date</th>
                  <th>Routine Start Date</th>
                  <th>Routine End Date</th>
                  <th>Difference Time</th>
                  <th>Message</th>
                  <th>Created At</th>
                </tr>
              </thead>
              <tbody style="text-wrap: nowrap;" class="">
                <tr *ngFor="let task of getusertaskdataData ; let i=index">
                  <td>{{i+1 }}</td>
                  <td>{{task.medicine_name }}</td>
                  <td>{{task.rxnumber }}</td>
                  <td>{{task.frequency }}</td>
                  <td>{{task.unit }}</td>
                  <td>{{task.time }}</td>
                  <td>{{task.mfg_date }}</td>
                  <td>{{task.expiry_date }}</td>
                  <td>{{task.routine_start_date | date:'dd-MM-yyyy' }}</td>
                  <td>{{task.routine_end_date | date:'dd-MM-yyyy' }}</td>
                  <td>{{task.difference_time }}</td>
                  <td>{{task.message }}</td>
                  <td>{{task.created_at | date:'dd-MM-yyyy' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">

          <div class="col-lg-12 col-md-12 d-flex  gap-2  mt-2 "
            style="background-color: #F7F7F7; white-space: wrap ; height: 70px; box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px; border-radius: 10px;">
            <h5 class="fs-4 mt-3 text-center p-2">Residents Task</h5> <span><button type="button"
                routerLink="/Admin/addtask" class="btn btn-primary mt-3"><span><i
                    class="fa-sharp fa-solid fa-plus"></i></span> Add</button></span>
          </div>
          <div class="mt-2"
            style="overflow-x: scroll; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px;">
            <table class="table table-bordered table-hover table-striped ">
              <thead class="" style="font-size: 13px; text-wrap: nowrap; ">
                <tr>
                  <th>Id</th>
                  <th>Name</th>
                  <th>Title</th>
                  <th>Milestone Id</th>
                  <th>Day</th>
                  <th>Task Days</th>
                  <th>Description</th>
                  <th>Priority</th>
                  <th>Due Date</th>
                  <th>Time</th>
                  <th>Status</th>
                  <th>Task Message</th>
                  <th>Comment Count</th>
                  <th>Start Date</th>
                  <th>Date Created</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody style="text-wrap: nowrap;" class="">
                <tr *ngFor="let task of getTasksOFUserss ; let i=index;">





                  <td>{{i + 1}}</td>
                  <td>{{task.name }}</td>
                  <td>{{task.title }}</td>
                  <td>{{task.milestone_id }}</td>
                  <td>{{task.day }}</td>
                  <td>{{task.task_days }}</td>
                  <td>{{task.description }}</td>
                  <td>{{task.priority }}</td>
                  <td>{{task.due_date | date:'dd-MM-yyyy' }}</td>
                  <td>{{task.time }}</td>
                  <td>{{task.status }}</td>
                  <td>{{task.task_message }}</td>
                  <td>{{task.comment_count }}</td>
                  <td>{{task.start_date | date:'dd-MM-yyyy' }}</td>
                  <td>{{task.date_created | date:'dd-MM-yyyy' }}</td>
                  <td>{{task.status }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">


        </div>


        <div class="tab-pane fade" id="nav-mildstone" role="tabpanel" aria-labelledby="nav-mildstone-tab">

          <div class="col-lg-12 col-md-12 d-flex  gap-2  mt-2 "
            style="background-color: #F7F7F7; white-space: wrap ; height: 70px; box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px; border-radius: 10px;">
            <h5 class="fs-4 mt-3 text-center p-2">Resident Milestone</h5> <span><button type="button"
                routerLink="/Admin/addmildstone" class="btn btn-primary mt-3"><span><i
                    class="fa-sharp fa-solid fa-plus"></i></span> Add</button></span>
          </div>

          <div class="mt-2"
            style="overflow-x: scroll; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px;">
            <table class="table table-bordered table-hover table-striped ">
              <thead class="" style="font-size: 13px; text-wrap: nowrap; ">
                <tr>
                  <th>Id</th>
                  <th>Title</th>
                  <th>Description</th>
                  <th>Status</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody style="text-wrap: nowrap;" class="">
                <tr *ngFor="let mild of getmildstonedata ;  let i = index">
                  <td>{{ i+1 }}</td>
                  <td>{{mild.title}}</td>
                  <td>{{mild.description}}</td>
                  <td>{{mild.status}}</td>
                  <td>{{mild.date_created | date:'dd-MM-yyy' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-Notes" role="tabpanel" aria-labelledby="nav-Notes-tab">
          <div class="col-lg-12 col-md-12 d-flex  gap-2  mt-2 "
            style="background-color: #F7F7F7; white-space: wrap ; height: 70px; box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px; border-radius: 10px;">
            <h5 class="fs-4 mt-3 text-center p-2">Resident Notes</h5> <span><button type="button"
                routerLink="/Admin/addResidentNote" class="btn btn-primary mt-3"><span><i
                    class="fa-sharp fa-solid fa-plus"></i></span> Add</button></span>
          </div>

          <div class="mt-2"
            style="overflow-x: scroll; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 10px;">
            <table class="table table-bordered table-hover table-striped ">
              <thead class="" style="font-size: 13px; text-wrap: nowrap; ">
                <tr>
                  <th>Id</th>
                  <th>Title</th>
                  <th>Description</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody style="text-wrap: nowrap;" class="">
                <tr *ngFor="let mild of getnotessdata ;  let i = index">
                  <td>{{ i+1 }}</td>
                  <td>{{mild.title}}</td>
                  <td>{{mild.description}}</td>
                  <td>{{mild.date_created | date:'dd-MM-yyy'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>